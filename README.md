Useful links:

https://developer.mozilla.org/en-US/Add-ons/WebExtensions  
https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Content_scripts#Communicating_with_background_scripts  
https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Native_messaging  
https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Working_with_files  

https://developer.mozilla.org/en-US/docs/Web/Events  
https://developer.mozilla.org/en-US/docs/Mozilla/Working_with_windows_in_chrome_code  

https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Developing_WebExtensions_for_Firefox_for_Android  

https://github.com/mozilla/video-bg-play/  